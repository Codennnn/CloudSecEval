# MDX 文档格式检查指南

本文档记录了用于查找和修复 MDX 文件中常见格式问题的正则表达式和相关说明。

## 规则一：查找链接前后有多余空格且链接文本不为英文的项

**用途**:
此规则用于查找 Markdown 链接 `[]()`，其链接文本 `[]` 中不包含任何英文字母，并且链接的**前面或后面**紧邻一个或多个空格。这通常是不规范的格式，需要手动修正。

**正则表达式**:

```regex
(?<=\s)\[[^A-zA-Z]+\]\([^)]+\)|\[[^A-zA-Z]+\]\([^)]+\)(?=\s)
```

**VSCode 使用方法**:

1.  按下 `Cmd + Shift + F` (macOS) 或 `Ctrl + Shift + F` (Windows) 打开全局搜索。
2.  在搜索框右侧，点击 `.*` 图标以启用正则表达式模式。
3.  将上述正则表达式粘贴到搜索框中。
4.  在 "files to include" 输入框中，填入 `*.mdx` 以限定搜索范围。

**正则表达式解释**:
这个表达式用 `|` (或) 分为两部分，满足任意一部分即可匹配：

1.  `(?<=\s)\[...\](...)`：匹配所有**前面是空格**的非英文链接。
    - `(?<=\s)` 是一个“正向后行断言”，它会检查链接左边是不是空格，但不会把空格算作匹配结果的一部分，让高亮更聚焦。
2.  `\[...\](...)(?=\s)`：匹配所有**后面是空格**的非英文链接。
    - `(?=\s)` 是一个“正向前行断言”，它检查链接右边是不是空格，同样不把空格算入结果。

这个版本比之前的更精确，能够正确处理 "前面有空格" 或 "后面有空格" 的情况。

---

_之前提供的旧规则 `(?<=\s|^)\[[^A-Za-z]{1,}?\]\([^\)]_?\)(?=\s|$)` 要求前后同时满足条件，过于严格，现已废弃。\*

## 规则二：查找英文双引号（""）内包含非英文字符的项

**用途**:
此规则用于查找所有英文双引号 `""` 中包含非 ASCII 字符（如中文、日文等）的实例。这有助于统一术语翻译、检查不应出现非英文字符的引文。

**正则表达式**:

```regex
"[^"]*[^\x00-\x7F][^"]*"
```

**VSCode 使用方法**:

1.  按下 `Cmd + Shift + F` (macOS) 或 `Ctrl + Shift + F` (Windows) 打开全局搜索。
2.  在搜索框右侧，点击 `.*` 图标以启用正则表达式模式。
3.  将上述正则表达式粘贴到搜索框中。
4.  在 "files to include" 输入框中，填入 `*.mdx` 以限定搜索范围。

**正则表达式解释**:

- `"` - 匹配开始的英文双引号。
- `[^"]*` - 匹配任意数量的非双引号字符。
- `[^\x00-\x7F]` - 匹配一个非 ASCII 字符。这是规则的核心，用于识别非英文字符。
- `[^"]*` - 再次匹配任意数量的非双引号字符。
- `"` - 匹配结束的英文双引号。

**更精确的模式**:
如果只想查找包含中文字符的项，可以使用 Unicode 范围：

```regex
"[^"]*[\u4e00-\u9fff][^"]*"
```

- `[\u4e00-\u9fff]`：精确匹配中文字符。
