#### Getting started

To instantiate a microservice, use the `createMicroservice()` method of the `NestFactory` class:

```typescript
@@filename(main)
import { NestFactory } from '@nestjs/core';
import { Transport, MicroserviceOptions } from '@nestjs/microservices';
import { AppModule } from './app.module';

async function bootstrap() {
  const app = await NestFactory.createMicroservice<MicroserviceOptions>(
    AppModule,
    {
      transport: Transport.TCP,
    },
  );
  await app.listen();
}
bootstrap();
@@switch
import { NestFactory } from '@nestjs/core';
import { Transport } from '@nestjs/microservices';
import { AppModule } from './app.module';

async function bootstrap() {
  const app = await NestFactory.createMicroservice(AppModule, {
    transport: Transport.TCP,
  });
  await app.listen();
}
bootstrap();
```

> info **Hint** Microservices use the **TCP** transport layer by default.

The second argument of the `createMicroservice()` method is an `options` object. This object may consist of two members:

<table>
  <tr>
    <td>
      <code>transport</code>
    </td>
    <td>
      Specifies the transporter (for example, <code>Transport.NATS</code>)
    </td>
  </tr>
  <tr>
    <td>
      <code>options</code>
    </td>
    <td>A transporter-specific options object that determines transporter behavior</td>
  </tr>
</table>
<p>
  The <code>options</code> object is specific to the chosen transporter. The <strong>TCP</strong>{' '}
  transporter exposes the properties described below. For other transporters (e.g, Redis, MQTT,
  etc.), see the relevant chapter for a description of the available options.
</p>
<table>
  <tr>
    <td>
      <code>host</code>
    </td>
    <td>Connection hostname</td>
  </tr>
  <tr>
    <td>
      <code>port</code>
    </td>
    <td>Connection port</td>
  </tr>
  <tr>
    <td>
      <code>retryAttempts</code>
    </td>
    <td>
      Number of times to retry message (default: <code>0</code>)
    </td>
  </tr>
  <tr>
    <td>
      <code>retryDelay</code>
    </td>
    <td>
      Delay between message retry attempts (ms) (default: <code>0</code>)
    </td>
  </tr>
  <tr>
    <td>
      <code>serializer</code>
    </td>
    <td>
      Custom{' '}
      <a
        href="https://github.com/nestjs/nest/blob/master/packages/microservices/interfaces/serializer.interface.ts"
        target="_blank"
      >
        serializer
      </a>{' '}
      for outgoing messages
    </td>
  </tr>
  <tr>
    <td>
      <code>deserializer</code>
    </td>
    <td>
      Custom{' '}
      <a
        href="https://github.com/nestjs/nest/blob/master/packages/microservices/interfaces/deserializer.interface.ts"
        target="_blank"
      >
        deserializer
      </a>{' '}
      for incoming messages
    </td>
  </tr>
  <tr>
    <td>
      <code>socketClass</code>
    </td>
    <td>
      A custom Socket that extends <code>TcpSocket</code> (default: <code>JsonSocket</code>)
    </td>
  </tr>
  <tr>
    <td>
      <code>tlsOptions</code>
    </td>
    <td>Options to configure the tls protocol</td>
  </tr>
</table>

> info **Hint** The above properties are specific to the TCP transporter. For information on available options for other transporters, refer to the relevant chapter.
